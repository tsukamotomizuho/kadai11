{"filter":false,"title":"web.php","tooltip":"/cms/routes/web.php","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":58,"column":35},"end":{"row":58,"column":36},"action":"remove","lines":["位"],"id":494}],[{"start":{"row":58,"column":34},"end":{"row":58,"column":35},"action":"remove","lines":["一"],"id":495}],[{"start":{"row":58,"column":34},"end":{"row":58,"column":36},"action":"insert","lines":["一致"],"id":500}],[{"start":{"row":58,"column":24},"end":{"row":58,"column":25},"action":"remove","lines":[" "],"id":501}],[{"start":{"row":58,"column":24},"end":{"row":58,"column":27},"action":"insert","lines":["モデル"],"id":508}],[{"start":{"row":58,"column":27},"end":{"row":58,"column":28},"action":"insert","lines":["の"],"id":510}],[{"start":{"row":58,"column":27},"end":{"row":58,"column":28},"action":"remove","lines":["の"],"id":511}],[{"start":{"row":58,"column":27},"end":{"row":58,"column":28},"action":"insert","lines":["に"],"id":513}],[{"start":{"row":58,"column":28},"end":{"row":58,"column":30},"action":"insert","lines":["対応"],"id":519}],[{"start":{"row":58,"column":30},"end":{"row":58,"column":32},"action":"insert","lines":["する"],"id":523}],[{"start":{"row":59,"column":21},"end":{"row":59,"column":22},"action":"remove","lines":["/"],"id":524}],[{"start":{"row":61,"column":0},"end":{"row":61,"column":1},"action":"insert","lines":["/"],"id":528}],[{"start":{"row":61,"column":1},"end":{"row":61,"column":2},"action":"insert","lines":["/"],"id":529}],[{"start":{"row":61,"column":2},"end":{"row":61,"column":36},"action":"insert","lines":["['ビュー側使用する変数名' => 値（変数/配列/オブジェクト）]"],"id":530}],[{"start":{"row":62,"column":0},"end":{"row":63,"column":0},"action":"remove","lines":["    // わからんので答え103ページから",""],"id":531}],[{"start":{"row":59,"column":33},"end":{"row":59,"column":38},"action":"remove","lines":["$book"],"id":532}],[{"start":{"row":59,"column":33},"end":{"row":59,"column":35},"action":"insert","lines":["[]"],"id":533}],[{"start":{"row":59,"column":34},"end":{"row":59,"column":35},"action":"insert","lines":[" "],"id":534}],[{"start":{"row":59,"column":35},"end":{"row":59,"column":36},"action":"insert","lines":["="],"id":535}],[{"start":{"row":59,"column":36},"end":{"row":59,"column":37},"action":"insert","lines":[">"],"id":536}],[{"start":{"row":59,"column":37},"end":{"row":59,"column":38},"action":"insert","lines":[" "],"id":537}],[{"start":{"row":59,"column":38},"end":{"row":59,"column":43},"action":"insert","lines":["$book"],"id":538}],[{"start":{"row":59,"column":34},"end":{"row":59,"column":35},"action":"insert","lines":["$"],"id":539}],[{"start":{"row":59,"column":35},"end":{"row":59,"column":36},"action":"insert","lines":["b"],"id":540}],[{"start":{"row":59,"column":36},"end":{"row":59,"column":37},"action":"insert","lines":["o"],"id":541}],[{"start":{"row":59,"column":37},"end":{"row":59,"column":38},"action":"insert","lines":["o"],"id":542}],[{"start":{"row":59,"column":38},"end":{"row":59,"column":39},"action":"insert","lines":["k"],"id":543}],[{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"remove","lines":["    "],"id":544}],[{"start":{"row":61,"column":0},"end":{"row":61,"column":4},"action":"insert","lines":["    "],"id":545}],[{"start":{"row":58,"column":1},"end":{"row":58,"column":4},"action":"insert","lines":["   "],"id":546}],[{"start":{"row":59,"column":48},"end":{"row":59,"column":49},"action":"insert","lines":["s"],"id":547}],[{"start":{"row":62,"column":0},"end":{"row":65,"column":0},"action":"remove","lines":["    ","    $book->delete();","    return redirect('/');",""],"id":548}],[{"start":{"row":59,"column":52},"end":{"row":60,"column":0},"action":"remove","lines":["",""],"id":549}],[{"start":{"row":59,"column":34},"end":{"row":59,"column":35},"action":"remove","lines":["$"],"id":550}],[{"start":{"row":60,"column":24},"end":{"row":60,"column":25},"action":"insert","lines":["$"],"id":551}],[{"start":{"row":60,"column":25},"end":{"row":60,"column":26},"action":"insert","lines":[" "],"id":552}],[{"start":{"row":60,"column":26},"end":{"row":60,"column":27},"action":"insert","lines":["+"],"id":553}],[{"start":{"row":60,"column":27},"end":{"row":60,"column":28},"action":"insert","lines":[" "],"id":554}],[{"start":{"row":59,"column":34},"end":{"row":59,"column":35},"action":"insert","lines":["$"],"id":555}],[{"start":{"row":59,"column":34},"end":{"row":59,"column":35},"action":"remove","lines":["$"],"id":556}],[{"start":{"row":59,"column":34},"end":{"row":59,"column":35},"action":"insert","lines":["'"],"id":557}],[{"start":{"row":59,"column":39},"end":{"row":59,"column":40},"action":"insert","lines":["'"],"id":558}],[{"start":{"row":62,"column":0},"end":{"row":63,"column":0},"action":"insert","lines":["",""],"id":559}],[{"start":{"row":63,"column":0},"end":{"row":69,"column":3},"action":"insert","lines":["/**","* 本を更新 */","Route::post('/booksedit/{books}', function (Book $books) {","    //受け取ったbooks(id)から　Bookモデルに対応するテーブルからidが一致するレコードを取得","        return view('booksedit', ['book' => $books]);","    //['ビュー側使用する変数名' => $ + 値（変数/配列/オブジェクト）]","});"],"id":560}],[{"start":{"row":69,"column":3},"end":{"row":70,"column":0},"action":"insert","lines":["",""],"id":561}],[{"start":{"row":65,"column":19},"end":{"row":65,"column":20},"action":"insert","lines":["/"],"id":562}],[{"start":{"row":65,"column":20},"end":{"row":65,"column":24},"action":"remove","lines":["edit"],"id":563}],[{"start":{"row":65,"column":20},"end":{"row":65,"column":21},"action":"insert","lines":["u"],"id":564}],[{"start":{"row":65,"column":21},"end":{"row":65,"column":22},"action":"insert","lines":["p"],"id":565}],[{"start":{"row":65,"column":22},"end":{"row":65,"column":23},"action":"insert","lines":["d"],"id":566}],[{"start":{"row":65,"column":23},"end":{"row":65,"column":24},"action":"insert","lines":["a"],"id":567}],[{"start":{"row":65,"column":24},"end":{"row":65,"column":25},"action":"insert","lines":["t"],"id":568}],[{"start":{"row":65,"column":25},"end":{"row":65,"column":26},"action":"insert","lines":["e"],"id":569}],[{"start":{"row":65,"column":0},"end":{"row":65,"column":61},"action":"remove","lines":["Route::post('/books/update/{books}', function (Book $books) {"],"id":570},{"start":{"row":65,"column":0},"end":{"row":65,"column":51},"action":"insert","lines":["Route::post('/books', function (Request $request) {"]}],[{"start":{"row":65,"column":19},"end":{"row":65,"column":20},"action":"insert","lines":["/"],"id":571}],[{"start":{"row":65,"column":20},"end":{"row":65,"column":21},"action":"insert","lines":["u"],"id":572}],[{"start":{"row":65,"column":21},"end":{"row":65,"column":22},"action":"insert","lines":["p"],"id":573}],[{"start":{"row":65,"column":22},"end":{"row":65,"column":23},"action":"insert","lines":["d"],"id":574}],[{"start":{"row":65,"column":23},"end":{"row":65,"column":24},"action":"insert","lines":["a"],"id":575}],[{"start":{"row":65,"column":24},"end":{"row":65,"column":25},"action":"insert","lines":["t"],"id":576}],[{"start":{"row":65,"column":25},"end":{"row":65,"column":26},"action":"insert","lines":["e"],"id":577}],[{"start":{"row":65,"column":26},"end":{"row":65,"column":27},"action":"insert","lines":["/"],"id":578}],[{"start":{"row":65,"column":26},"end":{"row":65,"column":27},"action":"remove","lines":["/"],"id":579}],[{"start":{"row":66,"column":0},"end":{"row":68,"column":44},"action":"remove","lines":["    //受け取ったbooks(id)から　Bookモデルに対応するテーブルからidが一致するレコードを取得","        return view('booksedit', ['book' => $books]);","    //['ビュー側使用する変数名' => $ + 値（変数/配列/オブジェクト）]"],"id":580},{"start":{"row":66,"column":0},"end":{"row":84,"column":25},"action":"insert","lines":["    //バリデーション","    $validator = Validator::make($request->all(), [","            'item_name'   => 'required|min:3|max:255',","            'item_number' => 'required|min:1|max:3',","            'item_amount' => 'required|max:6',","            'published'   => 'required',","    ]);","    //バリデーション:エラー","    if ($validator->fails()) {","            return redirect('/')->withInput()->withErrors($validator);","    }","    // Eloquent モデル","    $books = new Book;","    $books->item_name   = $request->item_name;","    $books->item_number = $request->item_number;","    $books->item_amount = $request->item_amount;","    $books->published   = $request->published;","    $books->save();   //「/」ルートにリダイレクト ","    return redirect('/');"]}],[{"start":{"row":67,"column":51},"end":{"row":68,"column":0},"action":"insert","lines":["",""],"id":581},{"start":{"row":68,"column":0},"end":{"row":68,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":68,"column":0},"end":{"row":68,"column":54},"action":"insert","lines":["            'item_name'   => 'required|min:3|max:255',"],"id":582}],[{"start":{"row":68,"column":14},"end":{"row":68,"column":22},"action":"remove","lines":["tem_name"],"id":583}],[{"start":{"row":68,"column":14},"end":{"row":68,"column":15},"action":"insert","lines":["d"],"id":584}],[{"start":{"row":68,"column":18},"end":{"row":68,"column":19},"action":"insert","lines":[" "],"id":585}],[{"start":{"row":68,"column":19},"end":{"row":68,"column":20},"action":"insert","lines":[" "],"id":586}],[{"start":{"row":68,"column":20},"end":{"row":68,"column":21},"action":"insert","lines":[" "],"id":587}],[{"start":{"row":68,"column":21},"end":{"row":68,"column":22},"action":"insert","lines":[" "],"id":588}],[{"start":{"row":68,"column":22},"end":{"row":68,"column":23},"action":"insert","lines":[" "],"id":589}],[{"start":{"row":68,"column":23},"end":{"row":68,"column":24},"action":"insert","lines":[" "],"id":590}],[{"start":{"row":68,"column":24},"end":{"row":68,"column":25},"action":"insert","lines":[" "],"id":591}],[{"start":{"row":68,"column":37},"end":{"row":68,"column":52},"action":"remove","lines":["d|min:3|max:255"],"id":592}],[{"start":{"row":79,"column":13},"end":{"row":79,"column":17},"action":"remove","lines":["new "],"id":593}],[{"start":{"row":79,"column":17},"end":{"row":79,"column":18},"action":"insert","lines":[":"],"id":594}],[{"start":{"row":79,"column":18},"end":{"row":79,"column":19},"action":"insert","lines":[":"],"id":595}],[{"start":{"row":79,"column":19},"end":{"row":79,"column":20},"action":"insert","lines":["f"],"id":596}],[{"start":{"row":79,"column":20},"end":{"row":79,"column":21},"action":"insert","lines":["i"],"id":597}],[{"start":{"row":79,"column":21},"end":{"row":79,"column":22},"action":"insert","lines":["n"],"id":598}],[{"start":{"row":79,"column":22},"end":{"row":79,"column":23},"action":"insert","lines":["s"],"id":599}],[{"start":{"row":79,"column":22},"end":{"row":79,"column":23},"action":"remove","lines":["s"],"id":600}],[{"start":{"row":79,"column":22},"end":{"row":79,"column":23},"action":"insert","lines":["d"],"id":601}],[{"start":{"row":79,"column":23},"end":{"row":79,"column":25},"action":"insert","lines":["()"],"id":602}],[{"start":{"row":79,"column":24},"end":{"row":79,"column":25},"action":"insert","lines":["$"],"id":603}],[{"start":{"row":79,"column":25},"end":{"row":79,"column":26},"action":"insert","lines":["r"],"id":604}],[{"start":{"row":79,"column":26},"end":{"row":79,"column":27},"action":"insert","lines":["e"],"id":605}],[{"start":{"row":79,"column":27},"end":{"row":79,"column":28},"action":"insert","lines":["q"],"id":606}],[{"start":{"row":79,"column":28},"end":{"row":79,"column":29},"action":"insert","lines":["u"],"id":607}],[{"start":{"row":79,"column":29},"end":{"row":79,"column":30},"action":"insert","lines":["e"],"id":608}],[{"start":{"row":79,"column":30},"end":{"row":79,"column":31},"action":"insert","lines":["s"],"id":609}],[{"start":{"row":79,"column":31},"end":{"row":79,"column":32},"action":"insert","lines":["t"],"id":610}],[{"start":{"row":79,"column":32},"end":{"row":79,"column":33},"action":"insert","lines":["-"],"id":611}],[{"start":{"row":79,"column":33},"end":{"row":79,"column":34},"action":"insert","lines":[">"],"id":612}],[{"start":{"row":79,"column":34},"end":{"row":79,"column":35},"action":"insert","lines":["i"],"id":613}],[{"start":{"row":79,"column":35},"end":{"row":79,"column":36},"action":"insert","lines":["d"],"id":614}],[{"start":{"row":67,"column":4},"end":{"row":67,"column":7},"action":"insert","lines":["// "],"id":617},{"start":{"row":68,"column":4},"end":{"row":68,"column":7},"action":"insert","lines":["// "]},{"start":{"row":69,"column":4},"end":{"row":69,"column":7},"action":"insert","lines":["// "]},{"start":{"row":70,"column":4},"end":{"row":70,"column":7},"action":"insert","lines":["// "]},{"start":{"row":71,"column":4},"end":{"row":71,"column":7},"action":"insert","lines":["// "]},{"start":{"row":72,"column":4},"end":{"row":72,"column":7},"action":"insert","lines":["// "]},{"start":{"row":73,"column":4},"end":{"row":73,"column":7},"action":"insert","lines":["// "]},{"start":{"row":74,"column":4},"end":{"row":74,"column":7},"action":"insert","lines":["// "]},{"start":{"row":75,"column":4},"end":{"row":75,"column":7},"action":"insert","lines":["// "]},{"start":{"row":76,"column":4},"end":{"row":76,"column":7},"action":"insert","lines":["// "]},{"start":{"row":77,"column":4},"end":{"row":77,"column":7},"action":"insert","lines":["// "]}],[{"start":{"row":67,"column":4},"end":{"row":67,"column":7},"action":"remove","lines":["// "],"id":618},{"start":{"row":68,"column":4},"end":{"row":68,"column":7},"action":"remove","lines":["// "]},{"start":{"row":69,"column":4},"end":{"row":69,"column":7},"action":"remove","lines":["// "]},{"start":{"row":70,"column":4},"end":{"row":70,"column":7},"action":"remove","lines":["// "]},{"start":{"row":71,"column":4},"end":{"row":71,"column":7},"action":"remove","lines":["// "]},{"start":{"row":72,"column":4},"end":{"row":72,"column":7},"action":"remove","lines":["// "]},{"start":{"row":73,"column":4},"end":{"row":73,"column":7},"action":"remove","lines":["// "]},{"start":{"row":74,"column":4},"end":{"row":74,"column":7},"action":"remove","lines":["// "]},{"start":{"row":75,"column":4},"end":{"row":75,"column":7},"action":"remove","lines":["// "]},{"start":{"row":76,"column":4},"end":{"row":76,"column":7},"action":"remove","lines":["// "]},{"start":{"row":77,"column":4},"end":{"row":77,"column":7},"action":"remove","lines":["// "]}],[{"start":{"row":66,"column":0},"end":{"row":77,"column":5},"action":"remove","lines":["    //バリデーション","    $validator = Validator::make($request->all(), [","            'id'          => 'require',        ","            'item_name'   => 'required|min:3|max:255',","            'item_number' => 'required|min:1|max:3',","            'item_amount' => 'required|max:6',","            'published'   => 'required',","    ]);","    //バリデーション:エラー","    if ($validator->fails()) {","            return redirect('/')->withInput()->withErrors($validator);","    }"],"id":619},{"start":{"row":66,"column":0},"end":{"row":77,"column":0},"action":"insert","lines":["    //バリデーション","    $validator = Validator::make($request->all(), [","            'item_name'   => 'required|min:3|max:255',","            'item_number' => 'required|min:1|max:3',","            'item_amount' => 'required|max:6',","            'published'   => 'required',","    ]);","    //バリデーション:エラー","    if ($validator->fails()) {","            return redirect('/')->withInput()->withErrors($validator);","    }",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":62,"column":0},"end":{"row":62,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1509538774396,"hash":"c87bfd2b68c3b3695165babf27b62b6a96cac726"}